"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[942],{2942:(rr,Bt,p)=>{p.r(Bt),p.d(Bt,{ProjectsModule:()=>ir});var f=p(6895),_=p(4006),Ve=p(5540),o=p(4650);function T(r){return null!=r&&"false"!=`${r}`}function Nt(r,e=0){return function je(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):e}function at(r){return Array.isArray(r)?r:[r]}function y(r){return null==r?"":"string"==typeof r?r:`${r}px`}function k(r){return r instanceof o.SBq?r.nativeElement:r}var g=p(7579),lt=p(9646),J=p(9751),Vt=p(4968),jt=p(4408),S=p(727);const U={schedule(r){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=U;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const n=e(s=>{t=void 0,r(s)});return new S.w0(()=>t?.(n))},requestAnimationFrame(...r){const{delegate:e}=U;return(e?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:e}=U;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var Zt=p(7565);const Ut=new class Ue extends Zt.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;e=e||i.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,n){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw n}}}(class Ze extends jt.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=U.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(n=s[s.length-1])||void 0===n?void 0:n.id)!==t&&(U.cancelAnimationFrame(t),e._scheduled=void 0)}});let ct,ze=1;const q={};function zt(r){return r in q&&(delete q[r],!0)}const He={setImmediate(r){const e=ze++;return q[e]=!0,ct||(ct=Promise.resolve()),ct.then(()=>zt(e)&&r()),e},clearImmediate(r){zt(r)}},{setImmediate:Ye,clearImmediate:Ge}=He,Q={setImmediate(...r){const{delegate:e}=Q;return(e?.setImmediate||Ye)(...r)},clearImmediate(r){const{delegate:e}=Q;return(e?.clearImmediate||Ge)(r)},delegate:void 0};new class Ke extends Zt.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;e=e||i.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,n){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw n}}}(class We extends jt.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Q.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(n=s[s.length-1])||void 0===n?void 0:n.id)!==t&&(Q.clearImmediate(t),e._scheduled=void 0)}});var dt=p(4986),$e=p(4482),Je=p(8421),Ht=p(5403),Qe=p(3532),ti=p(1165);function Yt(r=0,e,t=dt.P){let i=-1;return null!=e&&((0,Qe.K)(e)?t=e:i=e),new J.y(n=>{let s=(0,ti.q)(r)?+r-t.now():r;s<0&&(s=0);let a=0;return t.schedule(function(){n.closed||(n.next(a++),0<=i?this.schedule(void 0,i):n.complete())},s)})}function Gt(r,e=dt.z){return function qe(r){return(0,$e.e)((e,t)=>{let i=!1,n=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const d=n;n=null,t.next(d)}a&&t.complete()},c=()=>{s=null,a&&t.complete()};e.subscribe((0,Ht.x)(t,d=>{i=!0,n=d,s||(0,Je.Xf)(r(d)).subscribe(s=(0,Ht.x)(t,l,c))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>Yt(r,e))}var ei=p(9300);let ht;try{ht=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ht=!1}let H,R,ut,z=(()=>{class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ht)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(o.Lbi))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Y(r){return function ii(){if(null==H&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>H=!0}))}finally{H=H||!1}return H}()?r:!!r.capture}function oi(){if(null==R){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return R=!1,R;if("scrollBehavior"in document.documentElement.style)R=!0;else{const r=Element.prototype.scrollTo;R=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return R}function Kt(r){if(function ri(){if(null==ut){const r=typeof document<"u"?document.head:null;ut=!(!r||!r.createShadowRoot&&!r.attachShadow)}return ut}()){const e=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function F(r){return r.composedPath?r.composedPath()[0]:r.target}function Xt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const ni=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function si(){return(0,o.f3M)(f.K0)}}),ai=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pt=(()=>{class r{constructor(t){if(this.value="ltr",this.change=new o.vpe,t){const n=t.documentElement?t.documentElement.dir:null;this.value=function li(r){const e=r?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ai.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||n||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(ni,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_t=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),$t=(()=>{class r{constructor(t,i,n){this._ngZone=t,this._platform=i,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new J.y(i=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Gt(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,ei.h)(s=>!s||n.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((n,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let n=k(i),s=t.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,Vt.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(o.R0b),o.LFG(z),o.LFG(f.K0,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ft=(()=>{class r{constructor(t,i,n){this._platform=t,this._change=new g.x,this._changeListener=s=>{this._change.next(s)},this._document=n,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),n=t.documentElement,s=n.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||n.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Gt(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(z),o.LFG(o.R0b),o.LFG(f.K0,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})(),Jt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[_t,gt,_t,gt]}),r})();var mt=p(6451),G=p(2722),vt=p(8675),M=p(4004),bt=p(5698),x=p(8505),E=p(3900);function yt(r,e,t){for(let i in e)if(e.hasOwnProperty(i)){const n=e[i];n?r.setProperty(i,n,t?.has(i)?"important":""):r.removeProperty(i)}return r}function B(r,e){const t=e?"":"none";yt(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function ee(r,e,t){yt(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function et(r,e){return e&&"none"!=e?r+" "+e:r}function ie(r){const e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function wt(r,e){return r.getPropertyValue(e).split(",").map(i=>i.trim())}function Ct(r){const e=r.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function kt(r,e,t){const{top:i,bottom:n,left:s,right:a}=r;return t>=i&&t<=n&&e>=s&&e<=a}function W(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function oe(r,e,t,i){const{top:n,right:s,bottom:a,left:l,width:c,height:d}=r,h=c*e,u=d*e;return i>n-u&&i<a+u&&t>l-h&&t<s+h}class re{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ct(t)})})}handleScroll(e){const t=F(e),i=this.positions.get(t);if(!i)return null;const n=i.scrollPosition;let s,a;if(t===this._document){const d=this.getViewportScrollPosition();s=d.top,a=d.left}else s=t.scrollTop,a=t.scrollLeft;const l=n.top-s,c=n.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&W(d.clientRect,l,c)}),n.top=s,n.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ne(r){const e=r.cloneNode(!0),t=e.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();e.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return"canvas"===i?le(r,e):("input"===i||"select"===i||"textarea"===i)&&ae(r,e),se("canvas",r,e,le),se("input, textarea, select",r,e,ae),e}function se(r,e,t,i){const n=e.querySelectorAll(r);if(n.length){const s=t.querySelectorAll(r);for(let a=0;a<n.length;a++)i(n[a],s[a])}}let Oi=0;function ae(r,e){"file"!==e.type&&(e.value=r.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Oi++}`)}function le(r,e){const t=e.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}const ce=Y({passive:!0}),it=Y({passive:!1}),St=new Set(["position"]);class Ti{constructor(e,t,i,n,s,a){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new g.x,this._pointerMoveSubscription=S.w0.EMPTY,this._pointerUpSubscription=S.w0.EMPTY,this._scrollSubscription=S.w0.EMPTY,this._resizeSubscription=S.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new g.x,this.started=new g.x,this.released=new g.x,this.ended=new g.x,this.entered=new g.x,this.exited=new g.x,this.dropped=new g.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),b=this._dropContainer;if(!v)return void this._endDragSequence(l);(!b||!b.isDragging()&&!b.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=d.x-h.x+this._passiveTransform.x,u.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new re(i),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=T(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>B(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>k(i)),this._handles.forEach(i=>B(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=k(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,it),t.addEventListener("touchstart",this._pointerDown,ce),t.addEventListener("dragstart",this._nativeDragStart,it)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?k(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),B(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),B(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){K(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,n=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();n.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),ee(i,!1,St),this._document.body.appendChild(n.replaceChild(s,i)),this._getPreviewInsertionPoint(n,l).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=K(t),s=!n&&0!==t.button,a=this._rootElement,l=F(t),c=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=n?function Si(r){const e=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function ki(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||c||d)return;if(this._handles.length){const m=a.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=Ct(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){ee(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),s=this._getDragDistance(n),a=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:n,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,a,s,n,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let n;if(i&&e){const s=e.matchSize?this._initialClientRect:null,a=e.viewContainer.createEmbeddedView(i,e.context);a.detectChanges(),n=he(a,this._document),this._previewRef=a,e.matchSize?ue(n,s):n.style.transform=ot(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=ne(this._rootElement),ue(n,this._initialClientRect),this._initialTransform&&(n.style.transform=this._initialTransform);return yt(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},St),B(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>n.classList.add(s)):n.classList.add(t)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function Ei(r){const e=getComputedStyle(r),t=wt(e,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const n=t.indexOf(i),s=wt(e,"transition-duration"),a=wt(e,"transition-delay");return ie(s[n])+ie(a[n])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const n=a=>{(!a||F(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",n),i(),clearTimeout(s))},s=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=he(this._placeholderRef,this._document)):i=ne(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():e,a=K(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:s.left-e.left+(a.pageX-s.left-l.left),y:s.top-e.top+(a.pageY-s.top-l.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=K(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=n,l.y=s,l.matrixTransform(a.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),h=l.top+a,u=l.bottom-(d-a);i=de(i,l.left+s,l.right-(c-s)),n=de(n,h,u)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),l=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,B(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,it),e.removeEventListener("touchstart",this._pointerDown,ce),e.removeEventListener("dragstart",this._nativeDragStart,it)}_applyRootElementTransform(e,t){const i=ot(e,t),n=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=n.transform&&"none"!=n.transform?n.transform:""),n.transform=et(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,n=ot(e,t);this._preview.style.transform=et(n,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const s=n.left-i.left,a=i.right-n.right,l=n.top-i.top,c=i.bottom-n.bottom;n.width>i.width?(s>0&&(e+=s),a>0&&(e-=a)):e=0,n.height>i.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:K(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=F(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&W(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Kt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return k(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function ot(r,e){return`translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}function de(r,e,t){return Math.max(e,Math.min(t,r))}function K(r){return"t"===r.type[0]}function he(r,e){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(n=>i.appendChild(n)),i}function ue(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=ot(e.left,e.top)}function xt(r,e,t){const i=X(e,r.length-1),n=X(t,r.length-1);if(i===n)return;const s=r[i],a=n<i?-1:1;for(let l=i;l!==n;l+=a)r[l]=r[l+a];r[n]=s}function X(r,e){return Math.max(0,Math.min(e,r))}class Mi{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,n){const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===a&&s.length>0)return null;const l="horizontal"===this.orientation,c=s.findIndex(C=>C.drag===e),d=s[a],u=d.clientRect,m=c>a?1:-1,v=this._getItemOffsetPx(s[c].clientRect,u,m),b=this._getSiblingOffsetPx(c,s,m),w=s.slice();return xt(s,c,a),s.forEach((C,or)=>{if(w[or]===C)return;const Be=C.drag===e,Ft=Be?v:b,Ne=Be?e.getPlaceholderElement():C.drag.getRootElement();C.offset+=Ft,l?(Ne.style.transform=et(`translate3d(${Math.round(C.offset)}px, 0, 0)`,C.initialTransform),W(C.clientRect,0,Ft)):(Ne.style.transform=et(`translate3d(0, ${Math.round(C.offset)}px, 0)`,C.initialTransform),W(C.clientRect,Ft,0))}),this._previousSwap.overlaps=kt(u,t,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?n.x:n.y,{previousIndex:c,currentIndex:a}}enter(e,t,i,n){const s=null==n||n<0?this._getItemIndexFromPointerPosition(e,t,i):n,a=this._activeDraggables,l=a.indexOf(e),c=e.getPlaceholderElement();let d=a[s];if(d===e&&(d=a[s+1]),!d&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(s,0,e)}else k(this._element).appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(n=>n.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{W(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Ct(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const n="horizontal"===this.orientation;let s=n?t.left-e.left:t.top-e.top;return-1===i&&(s+=n?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this.orientation,s=t[e].clientRect,a=t[e+-1*i];let l=s[n?"width":"height"]*i;if(a){const c=n?"left":"top",d=n?"right":"bottom";-1===i?l-=a.clientRect[c]-s[d]:l+=s[c]-a.clientRect[d]}return l}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return n?e>=a.right:t>=a.bottom}{const a=i[0].clientRect;return n?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,i,n){const s="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>{if(l===e)return!1;if(n){const d=s?n.x:n.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return-1!==a&&this._sortPredicate(a,e)?a:-1}}class Ii{constructor(e,t,i,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new g.x,this.entered=new g.x,this.exited=new g.x,this.dropped=new g.x,this.sorted=new g.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=S.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new g.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Di(r=0,e=dt.z){return r<0&&(r=0),Yt(r,r,e)}(0,Ut).pipe((0,G.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=k(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new re(i),this._sortStrategy=new Mi(this.element,t),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,s,a,l,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:a,dropPoint:l,event:c})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>-1===e.indexOf(n))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=k(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._clientRect||!oe(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||oe(a.clientRect,.05,e,t)&&([n,s]=function Ai(r,e,t,i){const n=fe(e,i),s=ge(e,t);let a=0,l=0;if(n){const c=r.scrollTop;1===n?c>0&&(a=1):r.scrollHeight-c>r.clientHeight&&(a=2)}if(s){const c=r.scrollLeft;1===s?c>0&&(l=1):r.scrollWidth-c>r.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,e,t),(n||s)&&(i=l))}),!n&&!s){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};n=fe(c,t),s=ge(c,e),i=window}i&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=k(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=k(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=k(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&kt(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!kt(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);if(!n)return!1;const s=k(this.element);return n===s||s.contains(n)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Kt(k(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function fe(r,e){const{top:t,bottom:i,height:n}=r,s=.05*n;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function ge(r,e){const{left:t,right:i,width:n}=r,s=.05*n;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const rt=Y({passive:!1,capture:!0});let Li=(()=>{class r{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=n=>n.isDragging(),this.pointerMove=new g.x,this.pointerUp=new g.x,this.scroll=new g.x,this._preventDefaultWhileDragging=n=>{this._activeDragInstances.length>0&&n.preventDefault()},this._persistentTouchmoveListener=n=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,rt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,rt)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const n=i.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:rt}),n||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:rt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new J.y(n=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&n.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,mt.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(o.R0b),o.LFG(f.K0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Fi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Dt=(()=>{class r{constructor(t,i,n,s){this._document=t,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=s}createDrag(t,i=Fi){return new Ti(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ii(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(f.K0),o.LFG(o.R0b),o.LFG(ft),o.LFG(Li))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Et=new o.OlP("CDK_DRAG_PARENT"),Ot=new o.OlP("CdkDropListGroup");let Bi=(()=>{class r{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=T(t)}ngOnDestroy(){this._items.clear()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[o._Bn([{provide:Ot,useExisting:r}])]}),r})();const me=new o.OlP("CDK_DRAG_CONFIG");let Ni=0;const ve=new o.OlP("CdkDropList");let be=(()=>{class r{constructor(t,i,n,s,a,l,c){this.element=t,this._changeDetectorRef=n,this._scrollDispatcher=s,this._dir=a,this._group=l,this._destroyed=new g.x,this.connectedTo=[],this.id="cdk-drop-list-"+Ni++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.sorted=new o.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,u)=>this.sortPredicate(d,h.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),l&&l._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=T(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,vt.O)(this._dir.value),(0,G.R)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=at(this.connectedTo).map(n=>"string"==typeof n?r._dropLists.find(a=>a.id===n):n);if(this._group&&this._group._items.forEach(n=>{-1===i.indexOf(n)&&i.push(n)}),!this._scrollableParentsResolved){const n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=T(this.sortingDisabled),t.autoScrollDisabled=T(this.autoScrollDisabled),t.autoScrollStep=Nt(this.autoScrollStep,2),t.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:n,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=n??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return r._dropLists=[],r.\u0275fac=function(t){return new(t||r)(o.Y36(o.SBq),o.Y36(Dt),o.Y36(o.sBO),o.Y36($t),o.Y36(pt,8),o.Y36(Ot,12),o.Y36(me,8))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("id",i.id),o.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[o._Bn([{provide:Ot,useValue:void 0},{provide:ve,useExisting:r}])]}),r})();const Pt=new o.OlP("CdkDragHandle");let Vi=(()=>{class r{constructor(t,i){this.element=t,this._stateChanges=new g.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=T(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(o.SBq),o.Y36(Et,12))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[o._Bn([{provide:Pt,useExisting:r}])]}),r})();const ji=new o.OlP("CdkDragPlaceholder"),Zi=new o.OlP("CdkDragPreview");let ye=(()=>{class r{constructor(t,i,n,s,a,l,c,d,h,u,m){this.element=t,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=h,this._selfHandle=u,this._parentDrag=m,this._destroyed=new g.x,this.started=new o.vpe,this.released=new o.vpe,this.ended=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.dropped=new o.vpe,this.moved=new J.y(v=>{const b=this._dragRef.moved.pipe((0,M.U)(w=>({source:this,pointerPosition:w.pointerPosition,event:w.event,delta:w.delta,distance:w.distance}))).subscribe(v);return()=>{b.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=T(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,bt.q)(1),(0,G.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,n=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=r._dragInstances.indexOf(this);t>-1&&r._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):k(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,n=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Nt(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,bt.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(r._dragInstances.find(n=>n.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:n,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:h}=t;this.disabled=c??!1,this.dragStartDelay=n||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,vt.O)(this._handles),(0,x.b)(t=>{const i=t.filter(n=>n._parentDrag===this).map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,E.w)(t=>(0,mt.T)(...t.map(i=>i._stateChanges.pipe((0,vt.O)(i))))),(0,G.R)(this._destroyed)).subscribe(t=>{const i=this._dragRef,n=t.element.nativeElement;t.disabled?i.disableHandle(n):i.enableHandle(n)})}}return r._dragInstances=[],r.\u0275fac=function(t){return new(t||r)(o.Y36(o.SBq),o.Y36(ve,12),o.Y36(f.K0),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(me,8),o.Y36(pt,8),o.Y36(Dt),o.Y36(o.sBO),o.Y36(Pt,10),o.Y36(Et,12))},r.\u0275dir=o.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,n){if(1&t&&(o.Suo(n,Zi,5),o.Suo(n,ji,5),o.Suo(n,Pt,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._previewTemplate=s.first),o.iGM(s=o.CRH())&&(i._placeholderTemplate=s.first),o.iGM(s=o.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[o._Bn([{provide:Et,useExisting:r}]),o.TTD]}),r})(),zi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Dt],imports:[gt]}),r})();class Tt{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Hi extends Tt{constructor(e,t,i,n){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=n}}class Yi extends Tt{constructor(e,t,i,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Gi extends Tt{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class Ki extends class Wi{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Hi?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Yi?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Gi?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,n,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=a=>{const l=a.element,c=this._document.createComment("dom-portal");l.parentNode.insertBefore(c,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(l,c)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=i.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(i);-1!==n&&t.remove(n)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Xi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({}),r})();const we=oi();class $i{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=y(-this._previousScrollPosition.left),e.style.top=y(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,n=this._document.body.style,s=i.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),we&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),we&&(i.scrollBehavior=s,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Ji{constructor(e,t,i,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ce{enable(){}disable(){}attach(){}}function Rt(r,e){return e.some(t=>r.bottom<t.top||r.top>t.bottom||r.right<t.left||r.left>t.right)}function ke(r,e){return e.some(t=>r.top<t.top||r.bottom>t.bottom||r.left<t.left||r.right>t.right)}class qi{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();Rt(t,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qi=(()=>{class r{constructor(t,i,n,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new Ce,this.close=a=>new Ji(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new $i(this._viewportRuler,this._document),this.reposition=a=>new qi(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return r.\u0275fac=function(t){return new(t||r)(o.LFG($t),o.LFG(ft),o.LFG(o.R0b),o.LFG(f.K0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class to{constructor(e){if(this.scrollStrategy=new Ce,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class eo{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Se=(()=>{class r{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(f.K0))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),io=(()=>{class r extends Se{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=n=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(f.K0),o.LFG(o.R0b,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),oo=(()=>{class r extends Se{constructor(t,i,n){super(t),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=F(s)},this._clickListener=s=>{const a=F(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){const h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(a)||h.overlayElement.contains(l))break;const u=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(f.K0),o.LFG(z),o.LFG(o.R0b,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xe=(()=>{class r{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Xt()){const n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<n.length;s++)n[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Xt()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(f.K0),o.LFG(z))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class ro{constructor(e,t,i,n,s,a,l,c,d,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new g.x,this._attachments=new g.x,this._detachments=new g.x,this._locationChanges=S.w0.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new g.x,this._outsidePointerEvents=new g.x,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,bt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=y(this._config.width),e.height=y(this._config.height),e.minWidth=y(this._config.minWidth),e.minHeight=y(this._config.minHeight),e.maxWidth=y(this._config.maxWidth),e.maxHeight=y(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const n=at(t||[]).filter(s=>!!s);n.length&&(i?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,G.R)((0,mt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const De="cdk-overlay-connected-position-bounding-box",no=/([A-Za-z%]+)$/;class so{constructor(e,t,i,n,s){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new g.x,this._resizeSubscription=S.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(De),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let c=this._getOriginPoint(e,n,l),d=this._getOverlayPoint(c,t,l),h=this._getOverlayFit(d,t,i,l);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,c);this._canFitWithFlexibleDimensions(h,d,i)?s.push({position:l,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,l)}):(!a||a.overlayFit.visibleArea<h.visibleArea)&&(a={overlayFit:h,overlayPoint:d,originPoint:c,position:l,overlayRect:t})}if(s.length){let l=null,c=-1;for(const d of s){const h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,l=d)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&I(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(De),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let n,s;if("center"==i.originX)n=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;n="start"==i.originX?a:l}return t.left<0&&(n-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:n,y:s}}_getOverlayPoint(e,t,i){let n,s;return n="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+n,y:e.y+s}}_getOverlayFit(e,t,i,n){const s=Oe(t);let{x:a,y:l}=e,c=this._getOffset(n,"x"),d=this._getOffset(n,"y");c&&(a+=c),d&&(l+=d);let m=0-l,v=l+s.height-i.height,b=this._subtractOverflows(s.width,0-a,a+s.width-i.width),w=this._subtractOverflows(s.height,m,v),C=b*w;return{visibleArea:C,isCompletelyWithinViewport:s.width*s.height===C,fitsInViewportVertically:w===s.height,fitsInViewportHorizontally:b==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const n=i.bottom-t.y,s=i.right-t.x,a=Ee(this._overlayRef.getConfig().minHeight),l=Ee(this._overlayRef.getConfig().minWidth),d=e.fitsInViewportHorizontally||null!=l&&l<=s;return(e.fitsInViewportVertically||null!=a&&a<=n)&&d}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const n=Oe(t),s=this._viewportRect,a=Math.max(e.x+n.width-s.width,0),l=Math.max(e.y+n.height-s.height,0),c=Math.max(s.top-i.top-e.y,0),d=Math.max(s.left-i.left-e.x,0);let h=0,u=0;return h=n.width<=s.width?d||-a:e.x<this._viewportMargin?s.left-i.left-e.x:0,u=n.height<=s.height?c||-l:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:h,y:u},{x:e.x+h,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),n=new eo(e,i);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,n=this._isRtl();let s,a,l,h,u,m;if("top"===t.overlayY)a=e.y,s=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)l=i.height-e.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;s=2*v,a=e.y-v,s>b&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-b/2)}if("end"===t.overlayX&&!n||"start"===t.overlayX&&n)m=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!n||"end"===t.overlayX&&n)u=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;h=2*v,u=e.x-v,h>b&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-b/2)}return{top:a,left:u,bottom:l,right:m,width:h,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=y(i.height),n.top=y(i.top),n.bottom=y(i.bottom),n.width=y(i.width),n.left=y(i.left),n.right=y(i.right),n.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",n.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(n.maxHeight=y(s)),a&&(n.maxWidth=y(a))}this._lastBoundingBoxSize=i,I(this._boundingBox.style,n)}_resetBoundingBoxStyles(){I(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){I(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},n=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){const h=this._viewportRuler.getViewportScrollPosition();I(i,this._getExactOverlayY(t,e,h)),I(i,this._getExactOverlayX(t,e,h))}else i.position="static";let l="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(l+=`translateX(${c}px) `),d&&(l+=`translateY(${d}px)`),i.transform=l.trim(),a.maxHeight&&(n?i.maxHeight=y(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(n?i.maxWidth=y(a.maxWidth):s&&(i.maxWidth="")),I(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?n.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":n.top=y(s.y),n}_getExactOverlayX(e,t,i){let a,n={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?n.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":n.left=y(s.x),n}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ke(e,i),isOriginOutsideView:Rt(e,i),isOverlayClipped:ke(t,i),isOverlayOutsideView:Rt(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,n)=>i-Math.max(n,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&at(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof o.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function I(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function Ee(r){if("number"!=typeof r&&null!=r){const[e,t]=r.split(no);return t&&"px"!==t?null:parseFloat(e)}return r||null}function Oe(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const Pe="cdk-global-overlay-wrapper";class ao{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Pe),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:s,maxWidth:a,maxHeight:l}=i,c=!("100%"!==n&&"100vw"!==n||a&&"100%"!==a&&"100vw"!==a),d=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),h=this._xPosition,u=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";c?w="flex-start":"center"===h?(w="center",m?b=u:v=u):m?"left"===h||"end"===h?(w="flex-end",v=u):("right"===h||"start"===h)&&(w="flex-start",b=u):"left"===h||"start"===h?(w="flex-start",v=u):("right"===h||"end"===h)&&(w="flex-end",b=u),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Pe),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let lo=(()=>{class r{constructor(t,i,n,s){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=s}global(){return new ao}flexibleConnectedTo(t){return new so(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(ft),o.LFG(f.K0),o.LFG(z),o.LFG(xe))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),co=0,Te=(()=>{class r{constructor(t,i,n,s,a,l,c,d,h,u,m,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=h,this._location=u,this._outsideClickDispatcher=m,this._animationsModuleType=v}create(t){const i=this._createHostElement(),n=this._createPaneElement(i),s=this._createPortalOutlet(n),a=new to(t);return a.direction=a.direction||this._directionality.value,new ro(s,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+co++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new Ki(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(Qi),o.LFG(xe),o.LFG(o._Vd),o.LFG(lo),o.LFG(io),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(f.K0),o.LFG(pt),o.LFG(f.Ye),o.LFG(oo),o.LFG(o.QbO,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const po={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Te],useFactory:function uo(r){return()=>r.scrollStrategies.reposition()}};let _o=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[Te,po],imports:[_t,Xi,Jt,Jt]}),r})();var nt=p(6092),N=p(3037),V=p(1135),Re=p(4605),O=p(6334),fo=p(861),Mt=p(9770),It=p(529);let P=(()=>{class r{constructor(t){this.http=t,this.userList=new V.X([]),this.userData=[],this.requestedAt=0,this.getUsers().subscribe(()=>{})}getUsers(){const t=(new Date).getTime();return(0,Mt.P)(()=>Boolean(t-this.requestedAt>3e5)?this.http.get("users").pipe((0,x.b)(i=>{this.userData=i,this.userList.next(i),this.requestedAt=t})):(0,lt.of)(this.userData))}getUserById(t){return this.userData.find(n=>n._id===t)??new fo.e("","","")}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(It.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();var Me=p(8618),Ie=p(4984),At=p(577);let mo=(()=>{class r{constructor(t){this.userService=t}transform(t){return this.userService.getUserById(t).name[0]?.toUpperCase()||""}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(P,16))},r.\u0275pipe=o.Yjl({name:"initial",type:r,pure:!0}),r})(),vo=(()=>{class r{constructor(t){this.userService=t}transform(t){return this.userService.getUserById(t).name}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(P,16))},r.\u0275pipe=o.Yjl({name:"userName",type:r,pure:!0}),r})();function bo(r,e){if(1&r&&(o.TgZ(0,"li",4),o.ALo(1,"userName"),o._uU(2),o.ALo(3,"initial"),o.qZA()),2&r){const t=e.$implicit;o.Q6J("title",o.lcZ(1,2,t)),o.xp6(2),o.hij(" ",o.lcZ(3,4,t)," ")}}function yo(r,e){if(1&r&&(o.TgZ(0,"ul",2),o.YNc(1,bo,4,6,"li",3),o.qZA()),2&r){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.userList)}}let Lt=(()=>{class r{constructor(){this.userList=[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-user-label"]],inputs:{userList:"userList"},decls:3,vars:1,consts:[[1,"projects__users"],["class","projects__users-list",4,"ngIf"],[1,"projects__users-list"],["class","projects__users-item",3,"title",4,"ngFor","ngForOf"],[1,"projects__users-item",3,"title"]],template:function(t,i){1&t&&(o.ynx(0),o.TgZ(1,"div",0),o.YNc(2,yo,2,1,"ul",1),o.qZA(),o.BQk()),2&t&&(o.xp6(2),o.Q6J("ngIf",i.userList))},dependencies:[f.sg,f.O5,mo,vo],styles:[".projects__users[_ngcontent-%COMP%]{display:flex;padding-left:5px;padding-right:5px}@media (min-width: 768px){.projects__users[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.projects__users-list[_ngcontent-%COMP%]{display:flex}.projects__owner[_ngcontent-%COMP%], .projects__users-item[_ngcontent-%COMP%]{margin-right:-.25rem;display:flex;height:1.5rem;width:1.5rem;align-items:center;justify-content:center;border-radius:1.5rem;font-size:.75rem;line-height:1rem}"]}),r})();var D=p(3416);function wo(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",6)(1,"button",7),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.edit.emit())}),o.ALo(2,"translate"),o._UZ(3,"svg-icon",8),o.qZA(),o.TgZ(4,"button",9),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.delete.emit())}),o.ALo(5,"translate"),o._UZ(6,"svg-icon",10),o.qZA()()}2&r&&(o.xp6(1),o.s9C("title",o.lcZ(2,2,"BOARD.EDIT")),o.xp6(3),o.s9C("title",o.lcZ(5,4,"BOARD.DELETE")))}let Co=(()=>{class r{constructor(t){this.boardService=t,this.project=new N.Z,this.edit=new o.vpe,this.delete=new o.vpe,this.userList=[],this.isOwner=!1}ngOnChanges(){this.userList=[this.project.owner,...this.project.users],this.isOwner=this.boardService.currentUser._id===this.project.owner}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(O.$))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-project-item"]],inputs:{project:"project"},outputs:{edit:"edit",delete:"delete"},features:[o.TTD],decls:7,vars:4,consts:[[1,"projects__item"],[1,"projects__header",3,"routerLink"],[1,"projects__title"],[1,"projects__users-wrapper"],[3,"userList"],["class","projects__btn-wrapper",4,"ngIf"],[1,"projects__btn-wrapper"],[1,"projects__edit","projects__btn",3,"title","click"],["src","../../../../assets/icons/pencil.svg"],[1,"projects__delete","projects__btn",3,"title","click"],["src","../../../../assets/icons/trash.svg"]],template:function(t,i){1&t&&(o.TgZ(0,"li",0)(1,"a",1)(2,"h4",2),o._uU(3),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"app-user-label",4),o.qZA()(),o.YNc(6,wo,7,6,"div",5),o.qZA()),2&t&&(o.xp6(1),o.Q6J("routerLink","board/"+i.project._id),o.xp6(2),o.Oqu(i.project.title),o.xp6(2),o.Q6J("userList",i.userList),o.xp6(1),o.Q6J("ngIf",i.isOwner))},dependencies:[f.O5,nt.yS,At.bk,Lt,D.X$],styles:[".projects__item[_ngcontent-%COMP%]{position:relative;margin-bottom:.5rem;display:flex;height:6rem;justify-content:space-between;gap:.5rem;border-radius:.75rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.projects__item[_ngcontent-%COMP%]:hover{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.projects__header[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:1;padding:1rem}.projects__title[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(120 116 134 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.projects__btn-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;right:1rem;display:flex;height:100%;flex-direction:column;justify-content:space-around}.projects__edit[_ngcontent-%COMP%]{margin-right:.25rem}.projects__edit[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(118 165 234 / var(--tw-bg-opacity))}.projects__delete[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(216 114 125 / var(--tw-bg-opacity))}.projects__btn[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;border-radius:.25rem;padding:2px}"]}),r})();var Ae=p(8372),ko=p(1884),So=p(1087);const xo=["searchInput"],Do=["searchForm"];function Eo(r,e){1&r&&(o.TgZ(0,"form",1),o._UZ(1,"img",2),o.ALo(2,"translate"),o._UZ(3,"input",3,4),o.ALo(5,"translate"),o.qZA()),2&r&&(o.xp6(1),o.s9C("alt",o.lcZ(2,2,"BOARD.SEARCH")),o.xp6(2),o.Q6J("placeholder",o.lcZ(5,4,"BOARD.SEARCHPLACEHOLDER")))}let Oo=(()=>{class r{constructor(){this.search=new o.vpe}ngAfterViewInit(){(0,Vt.R)(this.searchInput?.nativeElement,"input").pipe((0,M.U)(t=>t.target.value.trim().toLowerCase()),(0,M.U)(t=>t.length>=3?t:""),(0,Ae.b)(So.YE),(0,ko.x)()).subscribe(t=>this.search.emit(t))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-search-item"]],viewQuery:function(t,i){if(1&t&&(o.Gf(xo,5),o.Gf(Do,5)),2&t){let n;o.iGM(n=o.CRH())&&(i.searchInput=n.first),o.iGM(n=o.CRH())&&(i.searchForm=n.first)}},outputs:{search:"search"},decls:1,vars:1,consts:[["class","search-form flex items-center gap-x-2 rounded-md",4,"ngIf"],[1,"search-form","flex","items-center","gap-x-2","rounded-md"],["src","../../../../assets/images/search.png",3,"alt"],["type","search","name","search","autocomplete","off","autofocus","",1,"search-input","rounded-md",3,"placeholder"],["searchInput",""]],template:function(t,i){1&t&&o.YNc(0,Eo,6,6,"form",0),2&t&&o.Q6J("ngIf",!0)},dependencies:[f.O5,_._Y,_.JL,_.F,D.X$],styles:[".search-form[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%]{width:100%;max-width:20rem;padding:.5rem}.search-form[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.search-form[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(120 116 134 / var(--tw-placeholder-opacity))}.search-form[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.search-form[_ngcontent-%COMP%]:has(.search-input:focus){--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-input[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.search-input[_ngcontent-%COMP%]:focus{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}"]}),r})();var Le=p(1988);function Po(r,e){1&r&&(o.TgZ(0,"p",19),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"BOARD.BOARDTITLERULE")," "))}function To(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",22)(1,"span",23),o._uU(2),o.qZA(),o.TgZ(3,"button",24),o.NdJ("click",function(n){const a=o.CHM(t).$implicit,l=o.oxw(2);return o.KtG(l.removeUser(n,a._id))}),o._uU(4,"X"),o.qZA()()}if(2&r){const t=e.$implicit;o.xp6(2),o.Oqu(t.name)}}function Ro(r,e){if(1&r&&(o.TgZ(0,"div",20),o.YNc(1,To,5,1,"div",21),o.qZA()),2&r){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.selectedUsers)}}function Mo(r,e){if(1&r&&(o.TgZ(0,"option",25),o._uU(1),o.qZA()),2&r){const t=e.$implicit;o.Q6J("ngValue",t._id),o.xp6(1),o.Oqu(t.name)}}let Fe=(()=>{class r{constructor(t,i,n){this.boardService=t,this.userService=i,this.toastService=n,this.isBoardModalVisible=!1,this.isBoardModalVisibleChange=new o.vpe,this.boardToEdit=new N.Z,this.modalTitle="",this.boardForm=new _.cw({boardTitle:new _.NI("",[_.kI.required]),boardUser:new _.NI("")}),this.userList=[],this.selectedUsers=[],this.selected="",this.subscriptions=new S.w0}ngOnChanges(){this.subscriptions.add(this.userService.getUsers().pipe((0,M.U)(t=>t.filter(i=>i._id!==this.boardToEdit.owner))).subscribe(t=>{this.userList=t,this.selectedUsers=[],this.boardToEdit.users.forEach(i=>{const n=this.userList.find(s=>s._id===i);n&&(this.userList=this.userList.filter(s=>s._id!==i),this.selectedUsers.push(n))}),this.modalTitle=this.boardToEdit.title,this.boardForm.controls.boardTitle.setValue(this.boardToEdit.title??""),this.selected=this.boardToEdit.title?this.boardToEdit.owner:""}))}closeModal(){this.isBoardModalVisibleChange.emit(!1)}submitForm(){const t=this.boardToEdit;t.title=this.boardForm.controls.boardTitle.value,t.users=this.selectedUsers.map(i=>i._id),(0,Mt.P)(()=>Boolean(this.boardToEdit._id)?this.boardService.updateBoard(t):this.boardService.createBoard(t)).subscribe(()=>{this.boardToEdit.users=t.users,this.closeModal()})}selectUser(){const t=this.boardForm.controls.boardUser.value;if(10===this.selectedUsers.length)return void this.toastService.showToast({title:"User limit reached",description:"Maximum 10 users allowed (include owner)",status:"error"});if("-"===t)return;const i=this.userList.find(n=>n._id===t);i&&(this.userList=this.userList.filter(n=>n._id!==t),this.selectedUsers.push(i)),this.selected="-"}removeUser(t,i){t.preventDefault();const n=this.selectedUsers.find(s=>s._id===i);n&&(this.selectedUsers=this.selectedUsers.filter(s=>s._id!==i),this.userList.push(n))}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(O.$),o.Y36(P),o.Y36(Le.k))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-board-modal"]],inputs:{isBoardModalVisible:"isBoardModalVisible",boardToEdit:"boardToEdit"},outputs:{isBoardModalVisibleChange:"isBoardModalVisibleChange"},features:[o.TTD],decls:33,vars:28,consts:[["tabindex","-1",1,"modal__wrapper","backdrop"],[1,"modal__container"],[1,"modal__window"],[1,"modal__header"],[1,"modal__title"],["type","button",1,"modal__button-top-close",3,"click"],[1,"modal__content"],["novalidate","",1,"task-form",3,"formGroup","ngSubmit"],[1,"task-form__input-container"],[1,"task-form__label"],["formControlName","boardTitle","type","text",1,"task-form__input",3,"placeholder"],["class","task-form__error-message",4,"ngIf"],["class","task-form__selected-users",4,"ngIf"],["formControlName","boardUser","type","text","placeholder","Choose user",1,"task-form__input",3,"ngModel","change"],["value","-"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"task-form__footer"],["type","button",1,"task-form__button-close",3,"click"],["type","submit",1,"task-form__button-save",3,"disabled"],[1,"task-form__error-message"],[1,"task-form__selected-users"],["class","task-form__user",4,"ngFor","ngForOf"],[1,"task-form__user"],[1,"task-form__username"],[1,"task-form__button-remove",3,"click"],[3,"ngValue"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return i.closeModal()}),o._uU(8,"X"),o.qZA()(),o.TgZ(9,"div",6)(10,"form",7),o.NdJ("ngSubmit",function(){return i.submitForm()}),o.TgZ(11,"div",8)(12,"label",9),o._uU(13),o.ALo(14,"translate"),o.qZA(),o._UZ(15,"input",10),o.ALo(16,"translate"),o.YNc(17,Po,3,3,"p",11),o.TgZ(18,"label",9),o._uU(19),o.ALo(20,"translate"),o.qZA(),o.YNc(21,Ro,2,1,"div",12),o.TgZ(22,"select",13),o.NdJ("change",function(){return i.selectUser()}),o.TgZ(23,"option",14),o._uU(24,"-"),o.qZA(),o.YNc(25,Mo,2,2,"option",15),o.qZA()(),o.TgZ(26,"div",16)(27,"button",17),o.NdJ("click",function(){return i.closeModal()}),o._uU(28),o.ALo(29,"translate"),o.qZA(),o.TgZ(30,"button",18),o._uU(31),o.ALo(32,"translate"),o.qZA()()()()()()()),2&t&&(o.ekj("is-open-modal",i.isBoardModalVisible),o.xp6(5),o.Oqu(o.lcZ(6,16,i.boardToEdit._id?"BOARD.EDIT":"BOARD.ADD")),o.xp6(5),o.Q6J("formGroup",i.boardForm),o.xp6(3),o.Oqu(o.lcZ(14,18,"BOARD.TITLE")),o.xp6(2),o.ekj("error",i.boardForm.controls.boardTitle.invalid&&i.boardForm.controls.boardTitle.touched),o.Q6J("placeholder",o.lcZ(16,20,"BOARD.BOARDTITLETOOLTIP")),o.xp6(2),o.Q6J("ngIf",i.boardForm.controls.boardTitle.invalid&&i.boardForm.controls.boardTitle.touched),o.xp6(2),o.Oqu(o.lcZ(20,22,"BOARD.PARTICIPANTS")),o.xp6(2),o.Q6J("ngIf",i.selectedUsers.length),o.xp6(1),o.Q6J("ngModel",i.selected),o.xp6(3),o.Q6J("ngForOf",i.userList),o.xp6(3),o.Oqu(o.lcZ(29,24,"BOARD.CLOSE")),o.xp6(2),o.Q6J("disabled",i.boardForm.invalid),o.xp6(1),o.Oqu(o.lcZ(32,26,"BOARD.SAVE")))},dependencies:[f.sg,f.O5,_._Y,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.JL,_.sg,_.u,D.X$],styles:[".modal__wrapper[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;z-index:50;height:100%;width:100%;overflow-y:auto;overflow-x:hidden;opacity:0;outline:2px solid transparent;outline-offset:2px;transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.modal__container[_ngcontent-%COMP%]{pointer-events:none;position:relative;display:flex;height:100%;width:auto;align-items:center;justify-content:center}.modal__window[_ngcontent-%COMP%]{pointer-events:auto;position:relative;display:flex;width:100%;max-width:500px;flex-direction:column;border-radius:.75rem;border-style:none;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));background-clip:padding-box;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity));opacity:0;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px;transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s;transform-style:preserve-3d;transform:rotateX(-70deg)}.modal__header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem 1rem .5rem}.modal__title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;font-weight:500;line-height:1.5;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity))}.modal__button-top-close[_ngcontent-%COMP%]{box-sizing:content-box;display:flex;height:1.5rem;width:1.5rem;align-items:center;justify-content:center;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.modal__button-top-close[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity));opacity:.75}.modal__button-top-close[_ngcontent-%COMP%]:focus{opacity:1}.modal__content[_ngcontent-%COMP%]{position:relative;border-radius:.75rem;padding:1rem;padding-top:0}.modal__wrapper.is-open-modal[_ngcontent-%COMP%]{visibility:visible;opacity:1}.modal__wrapper.is-open-modal[_ngcontent-%COMP%]   .modal__window[_ngcontent-%COMP%]{transform:rotateX(0);opacity:1}.task-form__input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-form__input[_ngcontent-%COMP%]{margin-bottom:.25rem;display:block;width:100%;-webkit-appearance:none;appearance:none;border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.task-form__input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(120 116 134 / var(--tw-placeholder-opacity))}.task-form__input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity))}.task-form__input.error[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(199 22 22 / var(--tw-border-opacity))}.task-form__error-message[_ngcontent-%COMP%]{margin-top:0;margin-left:.5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(199 22 22 / var(--tw-text-opacity))}.task-form__label[_ngcontent-%COMP%]{margin-left:.5rem;padding-top:.5rem;padding-bottom:.5rem;font-size:.875rem;line-height:1.25rem}.task-form__textarea[_ngcontent-%COMP%]{margin-bottom:.25rem;display:block;width:100%;-webkit-appearance:none;appearance:none;border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.task-form__textarea[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(120 116 134 / var(--tw-placeholder-opacity))}.task-form__textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity))}.task-form__footer[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;gap:.5rem;padding-top:1rem}.task-form__button-close[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.task-form__button-close[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity))}.task-form__button-save[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.task-form__button-save[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity))}.task-form__button-save[_ngcontent-%COMP%]:disabled{--tw-bg-opacity: 1;background-color:rgb(180 180 180 / var(--tw-bg-opacity))}.task-form__selected-users[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding-bottom:.5rem}.task-form__user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.25rem .5rem}.task-form__button-remove[_ngcontent-%COMP%]{font-weight:700;--tw-text-opacity: 1;color:rgb(199 22 22 / var(--tw-text-opacity))}"]}),r})(),Io=(()=>{class r{transform(t,i){return i&&t?t.filter(n=>n.owner.toLowerCase().includes(i)||n.title.toLowerCase().includes(i)||!!n.users.map(s=>s.toLowerCase()).filter(s=>s.includes(i)).length):t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=o.Yjl({name:"projectsFilter",type:r,pure:!0}),r})();function Ao(r,e){1&r&&(o.TgZ(0,"p",11),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&r&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"BOARD.ABSENT")))}function Lo(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"app-project-item",12),o.NdJ("edit",function(){const s=o.CHM(t).$implicit,a=o.oxw();return o.KtG(a.editProject(s))})("delete",function(){const s=o.CHM(t).$implicit,a=o.oxw();return o.KtG(a.onOpenConfirmModal(s))}),o.qZA()}2&r&&o.Q6J("project",e.$implicit)}function Fo(r,e){1&r&&o._UZ(0,"app-spinner")}let Bo=(()=>{class r{constructor(t,i,n){this.boardService=t,this.userService=i,this.confirmationService=n,this.boards=new V.X([]),this._isModalVisible=!1,this.isNeedToRefresh=!1,this.boardToEdit=new N.Z,this.boardToDelete=new N.Z,this.isLoading=this.boardService.isLoading,this.subscriptions=new S.w0}set filter(t){this._filter=t}get filter(){return this._filter}get isBoardModalVisible(){return this._isModalVisible}set isBoardModalVisible(t){this._isModalVisible=t,this.isNeedToRefresh&&this.getBoards(),t&&(this.isNeedToRefresh=!0)}ngOnInit(){this.boardService.loadingOn(),this.subscriptions.add(this.userService.getUsers().subscribe(()=>this.getBoards())),this.subscriptions.add(this.boardService.trigger$.subscribe(t=>{this.isBoardModalVisible=t,this.addBoard()}))}getBoards(){this.boardService.allBoards.subscribe(t=>{this.boards.next(t),this.boardService.loadingOff()})}addBoard(){this.boardToEdit=new N.Z,this.boardToEdit.title="New board",this.boardToEdit.owner=this.boardService.currentUser._id,this.isBoardModalVisible=!0}ngOnDestroy(){this.subscriptions.unsubscribe()}editProject(t){this.boardToEdit=t,this.isBoardModalVisible=!0}onOpenConfirmModal(t){this.boardToDelete=t,this.confirmationService.openModal(Re.p.DeleteBoard),this.subscriptions.add(this.confirmationService.isModalConfirmed$.subscribe(i=>{i&&this.deleteProject()}))}deleteProject(){this.boardService.deleteBoard(this.boardToDelete._id).subscribe(()=>{this.getBoards()})}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(O.$),o.Y36(P),o.Y36(Me.Y))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-projects-page"]],decls:22,vars:20,consts:[[1,"projects"],[1,"container"],[1,"projects__wrapper"],[1,"projects__search"],[3,"search"],["class","projects__create-board",4,"ngIf"],[1,"projects__list"],[3,"project","edit","delete",4,"ngFor","ngForOf"],[1,"projects__button-add",3,"title","click"],[3,"isBoardModalVisible","boardToEdit","isBoardModalVisibleChange"],[4,"ngIf"],[1,"projects__create-board"],[3,"project","edit","delete"]],template:function(t,i){if(1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-search-item",4),o.NdJ("search",function(s){return i.filter=s}),o.qZA()(),o.YNc(5,Ao,3,3,"p",5),o.ALo(6,"async"),o.TgZ(7,"ul",6),o.YNc(8,Lo,1,1,"app-project-item",7),o.ALo(9,"projectsFilter"),o.ALo(10,"async"),o.TgZ(11,"li")(12,"button",8),o.NdJ("click",function(){return i.addBoard()}),o.ALo(13,"translate"),o._uU(14),o.ALo(15,"translate"),o._UZ(16,"br"),o.TgZ(17,"span"),o._uU(18,"+"),o.qZA()()()()()()(),o.TgZ(19,"app-board-modal",9),o.NdJ("isBoardModalVisibleChange",function(s){return i.isBoardModalVisible=s}),o.qZA(),o.YNc(20,Fo,1,0,"app-spinner",10),o.ALo(21,"async")),2&t){let n;o.xp6(5),o.Q6J("ngIf",!(null!=(n=o.lcZ(6,7,i.boards))&&n.length)),o.xp6(3),o.Q6J("ngForOf",o.xi3(9,9,o.lcZ(10,12,i.boards),i.filter)),o.xp6(4),o.s9C("title",o.lcZ(13,14,"BOARD.ADD")),o.xp6(2),o.hij(" ",o.lcZ(15,16,"BOARD.ADD"),""),o.xp6(5),o.Q6J("isBoardModalVisible",i.isBoardModalVisible)("boardToEdit",i.boardToEdit),o.xp6(1),o.Q6J("ngIf",o.lcZ(21,18,i.isLoading))}},dependencies:[f.sg,f.O5,Ie.O,Co,Oo,Fe,D.X$,f.Ov,Io],styles:[".projects[_ngcontent-%COMP%]{height:calc(100vh - 265px);overflow:auto;padding-bottom:0;padding-top:1rem}@media (min-width: 768px){.projects[_ngcontent-%COMP%]{height:calc(100vh - 200px)}}@media (min-width: 1024px){.projects[_ngcontent-%COMP%]{height:calc(100vh - 138px)}}.projects__search[_ngcontent-%COMP%]{position:sticky;top:-1rem;z-index:10;margin-top:1.5rem;margin-bottom:1.5rem}.projects__list[_ngcontent-%COMP%]{display:grid;gap:.5rem;column-gap:1rem;overflow-y:scroll}@media (min-width: 1024px){.projects__list[_ngcontent-%COMP%]{gap:1rem}}.projects__list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(294px,1fr))}.projects__create-board[_ngcontent-%COMP%]{margin-top:3.5rem;margin-bottom:1rem;text-align:center;--tw-text-opacity: 1;color:rgb(120 116 134 / var(--tw-text-opacity))}.projects__create-board[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(118 165 234 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.projects__create-board[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(255 165 0 / var(--tw-text-opacity))}.projects__button-add[_ngcontent-%COMP%]{margin-bottom:.5rem;height:6rem;width:100%;align-items:center;justify-content:center;border-radius:.75rem;border-width:2px;border-style:dashed;opacity:.5;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.projects__button-add[_ngcontent-%COMP%]:hover{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.projects__button-add[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.projects__button-add-task[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:.75rem;border-width:2px;border-style:dashed;--tw-border-opacity: 1;border-color:rgb(180 180 180 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.5rem;font-size:1.25rem;line-height:1.75rem;opacity:.5;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:75ms}.projects__button-add-task[_ngcontent-%COMP%]:hover{border-style:solid;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));opacity:1;--tw-drop-shadow: drop-shadow(0 3px 3px rgba(0,0,0,.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}"]}),r})();class j{constructor(){this._id="",this.title="",this.order=0,this.boardId="",this.columnId="",this.description="",this.userId="",this.users=[]}}let st=(()=>{class r{constructor(t,i){this.http=t,this.boardService=i,this.allColumns=new V.X([]),this.columnStore=[],this.colorsColumn=[]}get columns(){return this.columnStore}set columns(t){this.columnStore=t}getColor(t){let i;return this.colorsColumn.includes(t)?i=this.colorsColumn.findIndex(n=>n===t):(this.colorsColumn.push(t),i=this.colorsColumn.length-1),i}makeColumnTemplate(){this.getColumns().subscribe(t=>{t.push({_id:"",title:`New column (${t.length+1})`,order:t.length,boardId:this.boardService.boardId}),this.allColumns.next(t)})}dropColumn(t){this.boardService.loadingOn();const i=[];xt(this.columns,t.previousIndex,t.currentIndex),this.columns.forEach((n,s)=>{i.push({_id:n._id,order:s})}),this.updateColumnSet(i).subscribe(n=>{this.columns=n,this.allColumns.next(n),this.boardService.loadingOff()})}getColumns(){return this.http.get(`boards/${this.boardService.boardId}/columns`).pipe((0,M.U)(t=>t.sort((i,n)=>i.order-n.order)),(0,x.b)(t=>{this.columns=t,this.allColumns.next(t)}))}saveColumn(t,i,n){return(0,Mt.P)(()=>Boolean(t)?this.updateColumn(t,i,n):this.createColumn(i,n))}createColumn(t,i){return this.http.post(`boards/${this.boardService.boardId}/columns`,{title:t,order:i}).pipe((0,x.b)(n=>{this.columns[this.columns.length-1]=n,this.allColumns.next(this.columns),this.boardService.loadingOff()}))}updateColumn(t,i,n){return this.http.put(`boards/${this.boardService.boardId}/columns/${t}`,{title:i,order:n}).pipe((0,x.b)(s=>{this.columns=this.columns.map(a=>a._id===s._id?s:a),this.allColumns.next(this.columns),this.boardService.loadingOff()}))}updateColumnSet(t){return this.http.patch("columnsSet",t)}deleteColumn(t){this.boardService.loadingOn(),this.http.delete(`boards/${this.boardService.boardId}/columns/${t}`).subscribe(()=>{const i=[],n=this.columns.filter(s=>s._id!==t).map((s,a)=>(s.order=a,i.push({_id:s._id,order:s.order}),s));n.length&&n.length<this.columns.length?this.updateColumnSet(i).subscribe(s=>{this.columns=s,this.allColumns.next(this.columns),this.boardService.loadingOff()}):n.length||(this.columns=[],this.allColumns.next(this.columns),this.boardService.loadingOff())})}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(It.eN),o.LFG(O.$))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})(),$=(()=>{class r{constructor(t,i,n){this.http=t,this.boardService=i,this.columnService=n,this.task=new g.x,this.taskStore=[],this.allTasks=new V.X([])}editTask(t){t.userId||(t.userId=this.boardService.owner),this.task.next(t)}getTasks(){return this.boardService.loadingOn(),this.http.get(`tasksSet/${this.boardService.boardId}`).pipe((0,M.U)(t=>t.sort((i,n)=>i.order-n.order)),(0,x.b)(t=>{this.taskStore=t,this.allTasks.next(t)}))}createTask(t){const{title:i,order:n,description:s,userId:a,users:l}=t;return this.http.post(`boards/${this.boardService.boardId}/columns/${t.columnId}/tasks`,{title:i,order:n,description:s,userId:a,users:l})}updateTask(t){const{title:i,order:n,columnId:s,description:a,userId:l,users:c}=t;return this.boardService.loadingOn(),this.http.put(`boards/${this.boardService.boardId}/columns/${t.columnId}/tasks/${t._id}`,{title:i,order:n,columnId:s,description:a,userId:l,users:c}).pipe((0,x.b)(()=>{this.taskStore=this.taskStore.map(d=>d._id===t._id?t:d),this.allTasks.next(this.taskStore),this.boardService.loadingOff()}))}deleteTask(t){return this.boardService.loadingOn(),this.http.delete(`boards/${this.boardService.boardId}/columns/${t.columnId}/tasks/${t._id}`).pipe((0,E.w)(()=>(this.taskStore=this.taskStore.filter(n=>n._id!==t._id),this.allTasks.next(this.taskStore),this.boardService.loadingOff(),(0,lt.of)(this.taskStore))))}updateTasksSet(t){return this.http.patch("tasksSet",t)}saveTask(t){t.description||(t.description=" "),this.boardService.loadingOn(),t._id?this.updateTask(t).subscribe(()=>{this.taskStore=this.taskStore.map(i=>i._id===t._id?t:i),this.allTasks.next(this.taskStore),this.boardService.loadingOff()}):this.createTask(t).subscribe(i=>{this.taskStore.push(i),this.allTasks.next(this.taskStore),this.boardService.loadingOff()})}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(It.eN),o.LFG(O.$),o.LFG(st))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();class No{constructor(){this._id="",this.title="",this.order=0,this.boardId=""}}var Vo=p(8215);let jo=(()=>{class r{constructor(t){this.taskService=t,this.task=new j,this.delete=new o.vpe,this.userList=[],this.subscriptions=new S.w0}ngOnInit(){this.taskService.allTasks.subscribe(t=>{const i=t.filter(n=>n._id===this.task._id)[0];i&&(this.userList=[i.userId,...i.users])})}editTask(){this.taskService.editTask(this.task)}deleteTask(){this.delete.emit(this.task)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(o.Y36($))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-task-card"]],inputs:{task:"task"},outputs:{delete:"delete"},decls:24,vars:15,consts:[[1,"column__task","task"],[1,"task__header"],[1,"task__title"],[1,"task__menu","menu"],[1,"menu__points"],[1,"menu__button-edit",3,"title","click"],["src","/assets/icons/pencil.svg","height","18","width","18",3,"alt"],[1,"menu__button-delete",3,"title","click"],["src","/assets/icons/trash.svg","height","18","width","18",3,"alt"],[1,"task__description"],[1,"task__footer"],[1,"projects__users-wrapper"],[3,"userList"],[1,"task__files"],["src","/assets/icons/files.svg","alt","Folder sign","height","16","width","16"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p",2),o._uU(3),o.qZA(),o.TgZ(4,"div",3)(5,"span",4),o._uU(6,"..."),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return i.editTask()}),o.ALo(8,"translate"),o._UZ(9,"img",6),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"button",7),o.NdJ("click",function(){return i.deleteTask()}),o.ALo(12,"translate"),o._UZ(13,"img",8),o.ALo(14,"translate"),o.qZA()()(),o.TgZ(15,"p",9),o._uU(16),o.qZA(),o.TgZ(17,"div",10)(18,"div",11),o._UZ(19,"app-user-label",12),o.qZA(),o.TgZ(20,"div",13),o._UZ(21,"img",14),o.TgZ(22,"span"),o._uU(23,"0 files"),o.qZA()()()()),2&t&&(o.xp6(3),o.Oqu(i.task.title),o.xp6(4),o.s9C("title",o.lcZ(8,7,"BOARD.EDITTASK")),o.xp6(2),o.s9C("alt",o.lcZ(10,9,"BOARD.EDITTASK")),o.xp6(2),o.s9C("title",o.lcZ(12,11,"BOARD.DELETETASK")),o.xp6(2),o.s9C("alt",o.lcZ(14,13,"BOARD.DELETETASK")),o.xp6(3),o.Oqu(i.task.description),o.xp6(3),o.Q6J("userList",i.userList))},dependencies:[Lt,D.X$],styles:[".task[_ngcontent-%COMP%]{margin-bottom:.5rem;width:100%;border-radius:.75rem;padding:.5rem}.task__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.task__title[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600}.task__menu[_ngcontent-%COMP%]{position:absolute;right:.25rem;z-index:50;display:flex;flex-direction:column;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.5rem;--tw-drop-shadow: drop-shadow(0 3px 3px rgba(0,0,0,.3));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width: 768px){.task__menu[_ngcontent-%COMP%]{display:block;--tw-drop-shadow: drop-shadow(0 0 #0000);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}}.task__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;height:1.75rem;width:1.75rem;align-items:center;border-radius:.375rem;padding-left:5px;padding-right:5px;opacity:1;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.3s}.task__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media (min-width: 768px){.task__menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;display:none;opacity:.3}}.task__menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.task__menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}}.task__menu[_ngcontent-%COMP%]:hover{position:absolute;right:.25rem;z-index:50;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.5rem;--tw-drop-shadow: drop-shadow(0 3px 3px rgba(0,0,0,.3));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.task__menu[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:none}.task__menu[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{display:flex}.task__description[_ngcontent-%COMP%]{height:45px;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(120 116 134 / var(--tw-text-opacity))}.task__footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.task__user[_ngcontent-%COMP%]{display:flex;height:1.75rem;width:1.75rem;align-items:center;justify-content:center;border-radius:1.5rem;--tw-bg-opacity: 1;background-color:rgb(228 204 253 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity))}.task__files[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(120 116 134 / var(--tw-text-opacity))}.menu__button-edit[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(118 165 234 / var(--tw-bg-opacity))}.menu__button-delete[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(216 114 125 / var(--tw-bg-opacity))}"]}),r})(),Zo=(()=>{class r{constructor(t,i,n){this.userService=t,this.elementRef=i,this.renderer=n,this.task=new j,this.searchTerm=""}ngOnChanges(){this.setVisibility()}setVisibility(){if(this.searchTerm){const t=this.searchTerm??"",n=[this.task.userId,...this.task.users].map(a=>this.userService.getUserById(a).name);n.push(this.task.title),n.push(this.task.description),n.filter(a=>new RegExp(t,"gi").test(a)).length||this.renderer.addClass(this.elementRef.nativeElement,"column__task--hide")}else this.renderer.removeClass(this.elementRef.nativeElement,"column__task--hide")}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(P),o.Y36(o.SBq),o.Y36(o.Qsj))},r.\u0275dir=o.lG2({type:r,selectors:[["","appBoardSearch",""]],inputs:{task:"task",searchTerm:"searchTerm"},features:[o.TTD]}),r})();function Uo(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",7),o.NdJ("cdkDragMoved",function(n){o.CHM(t);const s=o.oxw();return o.KtG(s.onDragMoved(n))}),o.ALo(1,"async"),o.TgZ(2,"app-task-card",8),o.NdJ("delete",function(n){o.CHM(t);const s=o.oxw();return o.KtG(s.onOpenConfirmModal(n))}),o.qZA()()}if(2&r){const t=e.$implicit,i=o.oxw();o.Q6J("task",t)("searchTerm",o.lcZ(1,3,i.searchTerm)),o.xp6(2),o.Q6J("task",t)}}let zo=(()=>{class r{constructor(t,i,n,s,a){this.boardService=t,this.columnService=i,this.taskService=n,this.confirmationService=s,this.document=a,this.column=new No,this.searchTerm=this.boardService.search,this.color="",this.columnTitle="",this.tasks=[],this.userList=[],this.columnId="",this.itemToRemove=new j,this.currentTitle="",this.disableAutoFocus=!0,this.subscriptions=new S.w0}onDragMoved(t){const s=this.document.querySelector(".board__all-columns"),a=t.pointerPosition.x,l=s.clientWidth;l-a<l/4&&-1!==t.delta.x&&(s.scrollLeft+=(s.scrollWidth-l-s.scrollLeft)/30),a<l/4&&1!==t.delta.x&&(s.scrollLeft-=s.scrollLeft/30)}ngOnChanges(){this.columnTitle=this.column.title??"",this.column._id||(this.disableAutoFocus=!1),this.columnId=this.column._id??"",this.currentTitle=this.columnTitle,this.taskService.allTasks.subscribe(t=>{this.tasks=[],this.tasks=t.filter(i=>i.columnId===this.columnId)}),this.chooseColor()}chooseColor(){const t=this.columnService.getColor(this.columnId);let i;var l;(l=i||(i={}))[l.indigo=0]="indigo",l[l.red=1]="red",l[l.gold=2]="gold",l[l.blue=3]="blue",l[l.green=4]="green",l[l.orange=5]="orange",l[l.pink=6]="pink";const n=Object.keys(i),s=n.slice(n.length/2,n.length);this.color=`color-${s[t%(s.length-1)]}`}columnNameChange(t){t&&t.target.blur(),this.columnTitle=this.columnTitle.trim(),this.columnTitle.length?this.currentTitle=this.columnTitle:this.columnTitle=this.currentTitle,this.columnService.saveColumn(this.column._id,this.columnTitle,this.column.order).subscribe(i=>{this.columnId||(this.columnId=i._id)})}onOpenConfirmModal(t){this.itemToRemove=t,this.confirmationService.openModal(Re.p.Null),this.subscriptions.add(this.confirmationService.isModalConfirmed$.subscribe(i=>{i&&("columnId"in this.itemToRemove?this.deleteTask(this.itemToRemove):this.deleteColumn())}))}deleteColumn(){this.columnService.deleteColumn(this.column._id)}deleteTask(t){this.taskService.deleteTask(t).subscribe(i=>{this.tasks=i.filter(n=>n.columnId===this.columnId)})}drop(t){const i=[];if(t.previousContainer===t.container){if(t.previousIndex===t.currentIndex)return;this.boardService.loadingOn(),xt(t.container.data,t.previousIndex,t.currentIndex)}t.previousContainer!==t.container&&(this.boardService.loadingOn(),function Ri(r,e,t,i){const n=X(t,r.length-1),s=X(i,e.length);r.length&&e.splice(s,0,r.splice(n,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),t.previousContainer.data.length&&t.previousContainer.data.forEach((n,s)=>{i.push({_id:n._id,order:s,columnId:t.previousContainer.id})})),t.container.data.forEach((n,s)=>{i.push({_id:n._id,order:s,columnId:t.container.id})}),this.taskService.updateTasksSet(i).pipe((0,E.w)(()=>this.taskService.getTasks())).subscribe(n=>{this.tasks=n.filter(s=>s.columnId===t.container.id),this.boardService.loadingOff()})}taskRemoved(){if(this.tasks.length){const t=[];this.boardService.loadingOn(),this.tasks.forEach((i,n)=>{t.push({_id:i._id,order:n,columnId:this.columnId})}),this.taskService.updateTasksSet(t).subscribe(i=>{this.tasks=i,this.boardService.loadingOff()})}}newTask(){const t=new j;t.columnId=this.columnId,t.boardId=this.column.boardId,this.taskService.editTask(t)}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(O.$),o.Y36(st),o.Y36($),o.Y36(Me.Y),o.Y36(f.K0))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-column"]],inputs:{column:"column"},features:[o.TTD],decls:12,vars:18,consts:[[1,"column__wrapper"],["type","search",1,"column__title",3,"ngModel","appAutoFocus","ngModelChange","blur","keydown.enter"],[1,"column__button-delete",3,"title","click"],["src","/assets/icons/trash.svg","height","18","width","22",3,"alt"],["cdkDropList","",1,"column__tasks",3,"id","cdkDropListData","cdkDropListDropped"],["class","column__task","cdkDrag","","appBoardSearch","",3,"task","searchTerm","cdkDragMoved",4,"ngFor","ngForOf"],[1,"column__button-add-task",3,"title","disabled","click"],["cdkDrag","","appBoardSearch","",1,"column__task",3,"task","searchTerm","cdkDragMoved"],[3,"task","delete"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"header")(2,"input",1),o.NdJ("ngModelChange",function(s){return i.columnTitle=s})("blur",function(){return i.columnNameChange()})("keydown.enter",function(s){return i.columnNameChange(s)}),o.qZA(),o.TgZ(3,"button",2),o.NdJ("click",function(){return i.onOpenConfirmModal(i.column)}),o.ALo(4,"translate"),o._UZ(5,"img",3),o.ALo(6,"translate"),o.qZA()(),o.TgZ(7,"div",4),o.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),o.YNc(8,Uo,3,5,"div",5),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.newTask()}),o.ALo(10,"translate"),o._uU(11,"+"),o.qZA()()),2&t&&(o.xp6(1),o.Gre("",i.color," column__header"),o.xp6(1),o.Q6J("ngModel",i.columnTitle)("appAutoFocus",i.disableAutoFocus),o.xp6(1),o.s9C("title",o.lcZ(4,12,"BOARD.DELETECOLUMN")),o.xp6(2),o.s9C("alt",o.lcZ(6,14,"BOARD.DELETECOLUMN")),o.xp6(2),o.Q6J("id",i.columnId)("cdkDropListData",i.tasks),o.xp6(1),o.Q6J("ngForOf",i.tasks),o.xp6(1),o.s9C("title",o.lcZ(10,16,"BOARD.NEWTASK")),o.Q6J("disabled",!i.columnId))},dependencies:[f.sg,_.Fj,_.JJ,_.On,Vo.U,be,ye,jo,Zo,D.X$,f.Ov],styles:['@charset "UTF-8";.color-red[_ngcontent-%COMP%]{border-color:red}.column__header.color-red[_ngcontent-%COMP%]:before{content:"\\25cf";color:red}.color-blue[_ngcontent-%COMP%]{border-color:#00f}.column__header.color-blue[_ngcontent-%COMP%]:before{content:"\\25cf";color:#00f}.color-green[_ngcontent-%COMP%]{border-color:green}.column__header.color-green[_ngcontent-%COMP%]:before{content:"\\25cf";color:green}.color-indigo[_ngcontent-%COMP%]{border-color:indigo}.column__header.color-indigo[_ngcontent-%COMP%]:before{content:"\\25cf";color:indigo}.color-gold[_ngcontent-%COMP%]{border-color:gold}.column__header.color-gold[_ngcontent-%COMP%]:before{content:"\\25cf";color:gold}.color-pink[_ngcontent-%COMP%]{border-color:pink}.column__header.color-pink[_ngcontent-%COMP%]:before{content:"\\25cf";color:pink}.color-orange[_ngcontent-%COMP%]{border-color:orange}.column__header.color-orange[_ngcontent-%COMP%]:before{content:"\\25cf";color:orange}.column__wrapper[_ngcontent-%COMP%]{position:relative;display:flex;max-height:100%;width:18rem;flex-direction:column;overflow:auto;border-radius:.75rem;padding:.5rem}.column__header[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:space-between;border-bottom-width:4px;padding-bottom:.25rem;font-size:1.125rem;line-height:1.75rem;font-weight:500}.column__title[_ngcontent-%COMP%]{position:relative;z-index:20;width:13rem;border-radius:.375rem;background-color:transparent;padding-left:.25rem;padding-right:.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.1s}.column__title[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.column__title[_ngcontent-%COMP%]:focus{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.column__button-delete[_ngcontent-%COMP%]{position:relative;z-index:20;border-radius:.375rem;padding-left:.25rem;padding-right:.25rem;opacity:.3;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:.3s}.column__button-delete[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(216 114 125 / var(--tw-bg-opacity));opacity:1}.column__tasks[_ngcontent-%COMP%]{position:relative;z-index:10;margin-bottom:.5rem;margin-left:.5rem;margin-right:-8px;height:100%;min-height:48px;overflow:auto}@media (min-width: 768px){.column__tasks[_ngcontent-%COMP%]{margin-left:0}}.column__tasks[_ngcontent-%COMP%]{scrollbar-gutter:stable}.column__tasks[_ngcontent-%COMP%]::-webkit-scrollbar{width:15px}@media (min-width: 768px){.column__tasks[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}}.column__tasks[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-bottom:.25rem;border-radius:.75rem;background-color:transparent}.column__tasks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.75rem;border-width:5px;border-style:solid;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(118 165 234 / var(--tw-bg-opacity));background-clip:content-box}@media (min-width: 768px){.column__tasks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-width:3px}}.column__task--hide[_ngcontent-%COMP%]{display:none}.column__button-add-task[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px;margin-bottom:.5rem;border-radius:.75rem;border-width:2px;border-style:dashed;--tw-border-opacity: 1;border-color:rgb(180 180 180 / var(--tw-border-opacity));padding:.5rem;font-size:1.25rem;line-height:1.75rem;opacity:.5;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:75ms}.column__button-add-task[_ngcontent-%COMP%]:hover{border-style:solid;opacity:1;--tw-drop-shadow: drop-shadow(0 3px 3px rgba(0,0,0,.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width: 768px){.column__button-add-task[_ngcontent-%COMP%]{margin-left:0;margin-right:0}}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;--tw-drop-shadow: drop-shadow(0 5px 5px #0003);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.column__tasks.cdk-drop-list-dragging[_ngcontent-%COMP%]   .column__task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder), .cdk-drag-animating[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}']}),r})();function Ho(r,e){1&r&&(o.TgZ(0,"p",21),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"BOARD.TITLERULE")," "))}function Yo(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",24)(1,"span",25),o._uU(2),o.qZA(),o.TgZ(3,"button",26),o.NdJ("click",function(n){const a=o.CHM(t).$implicit,l=o.oxw(3);return o.KtG(l.removeUser(n,a._id))}),o._uU(4,"X"),o.qZA()()}if(2&r){const t=e.$implicit;o.xp6(2),o.Oqu(t.name)}}function Go(r,e){if(1&r&&(o.TgZ(0,"div",22),o.YNc(1,Yo,5,1,"div",23),o.qZA()),2&r){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.selectedUsers)}}function Wo(r,e){if(1&r&&(o.TgZ(0,"option",27),o._uU(1),o.qZA()),2&r){const t=e.$implicit;o.Q6J("ngValue",t._id),o.xp6(1),o.Oqu(t.name)}}function Ko(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"button",6),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.closeModal())}),o._uU(8,"X"),o.qZA()(),o.TgZ(9,"div",7)(10,"form",8),o.NdJ("ngSubmit",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.submitForm())}),o.TgZ(11,"div",9)(12,"label",10),o._uU(13),o.ALo(14,"translate"),o.qZA(),o._UZ(15,"input",11),o.ALo(16,"translate"),o.YNc(17,Ho,3,3,"p",12),o.TgZ(18,"label",10),o._uU(19),o.ALo(20,"translate"),o.qZA(),o._UZ(21,"textarea",13),o.TgZ(22,"label",10),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.YNc(25,Go,2,1,"div",14),o.TgZ(26,"select",15),o.NdJ("change",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.selectUser())}),o.TgZ(27,"option",16),o._uU(28,"-"),o.qZA(),o.YNc(29,Wo,2,2,"option",17),o.qZA()(),o.TgZ(30,"div",18)(31,"button",19),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.closeModal())}),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"button",20),o._uU(35),o.ALo(36,"translate"),o.qZA()()()()()()()}if(2&r){const t=o.oxw();o.xp6(5),o.Oqu(o.lcZ(6,15,t.modalTitle?"BOARD.EDITTASK":"BOARD.NEWTASK")),o.xp6(5),o.Q6J("formGroup",t.taskForm),o.xp6(3),o.Oqu(o.lcZ(14,17,"BOARD.TITLE")),o.xp6(2),o.ekj("error",t.taskForm.controls.taskTitle.invalid&&t.taskForm.controls.taskTitle.touched),o.Q6J("placeholder",o.lcZ(16,19,"BOARD.TITLETOOLTIP")),o.xp6(2),o.Q6J("ngIf",t.taskForm.controls.taskTitle.invalid&&t.taskForm.controls.taskTitle.touched),o.xp6(2),o.Oqu(o.lcZ(20,21,"BOARD.DESCRIPTION")),o.xp6(4),o.Oqu(o.lcZ(24,23,"BOARD.PARTICIPANTS")),o.xp6(2),o.Q6J("ngIf",t.selectedUsers.length),o.xp6(1),o.Q6J("ngModel",t.selected),o.xp6(3),o.Q6J("ngForOf",t.userList),o.xp6(3),o.Oqu(o.lcZ(33,25,"BOARD.CLOSE")),o.xp6(2),o.Q6J("disabled",t.taskForm.invalid),o.xp6(1),o.Oqu(o.lcZ(36,27,"BOARD.SAVE"))}}let Xo=(()=>{class r{constructor(t,i,n,s){this.taskService=t,this.boardService=i,this.userService=n,this.toastService=s,this.isModalVisible=!1,this.isModalVisibleChange=new o.vpe,this.taskToEdit=new j,this.modalTitle="",this.taskForm=new _.cw({taskTitle:new _.NI("",[_.kI.required]),taskDescription:new _.NI(""),taskUser:new _.NI("")}),this.boardUsers=[],this.userList=[],this.selectedUsers=[],this.selected="",this.subscriptions=new S.w0}ngOnInit(){let t=[];this.subscriptions.add(this.boardService.board.pipe((0,x.b)(i=>{t=i.users}),(0,E.w)(()=>this.userService.userList),(0,M.U)(i=>i.filter(n=>t.includes(n._id)))).subscribe(i=>{this.boardUsers=i}))}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(){this.userList=[...this.boardUsers],this.selectedUsers=[],this.taskToEdit.users.forEach(t=>{const i=this.userList.find(n=>n._id===t);i&&(this.userList=this.userList.filter(n=>n._id!==t),this.selectedUsers.push(i))}),this.modalTitle=this.taskToEdit.title,this.taskForm.controls.taskTitle.setValue(this.taskToEdit.title??""),this.taskForm.controls.taskDescription.setValue(this.taskToEdit.description??""),this.selected=this.taskToEdit.title?this.taskToEdit.userId:""}closeModal(){this.isModalVisibleChange.emit(!1)}submitForm(){const t=this.taskToEdit;t.title=this.taskForm.controls.taskTitle.value,t.description=this.taskForm.controls.taskDescription.value,t.users=this.selectedUsers.map(i=>i._id),this.taskToEdit.users=t.users,this.closeModal(),this.taskService.saveTask(t)}selectUser(){const t=this.taskForm.controls.taskUser.value;if("-"===t)return;if(9===this.selectedUsers.length)return void this.toastService.showToast({title:"User limit reached",description:"Maximum 10 users allowed (include owner)",status:"error"});const i=this.userList.find(n=>n._id===t);i&&(this.userList=this.userList.filter(n=>n._id!==t),this.selectedUsers.push(i)),this.selected="-"}removeUser(t,i){t.preventDefault();const n=this.selectedUsers.find(s=>s._id===i);n&&(this.selectedUsers=this.selectedUsers.filter(s=>s._id!==i),this.userList.push(n))}}return r.\u0275fac=function(t){return new(t||r)(o.Y36($),o.Y36(O.$),o.Y36(P),o.Y36(Le.k))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-task-modal"]],inputs:{isModalVisible:"isModalVisible",taskToEdit:"taskToEdit"},outputs:{isModalVisibleChange:"isModalVisibleChange"},features:[o.TTD],decls:1,vars:1,consts:[["class","modal__wrapper backdrop","tabindex","-1",4,"ngIf"],["tabindex","-1",1,"modal__wrapper","backdrop"],[1,"modal__container"],[1,"modal__window"],[1,"modal__header"],[1,"modal__title"],["type","button",1,"modal__button-top-close",3,"click"],[1,"modal__content"],["novalidate","",1,"task-form",3,"formGroup","ngSubmit"],[1,"task-form__input-container"],[1,"task-form__label"],["formControlName","taskTitle","type","text",1,"task-form__input",3,"placeholder"],["class","task-form__error-message",4,"ngIf"],["formControlName","taskDescription","rows","3","placeholder","Enter task description",1,"task-form__textarea"],["class","task-form__selected-users",4,"ngIf"],["formControlName","taskUser","type","text","placeholder","Choose user",1,"task-form__input",3,"ngModel","change"],["value","-"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"task-form__footer"],["type","button",1,"task-form__button-close",3,"click"],["type","submit",1,"task-form__button-save",3,"disabled"],[1,"task-form__error-message"],[1,"task-form__selected-users"],["class","task-form__user",4,"ngFor","ngForOf"],[1,"task-form__user"],[1,"task-form__username"],[1,"task-form__button-remove",3,"click"],[3,"ngValue"]],template:function(t,i){1&t&&o.YNc(0,Ko,37,29,"div",0),2&t&&o.Q6J("ngIf",i.isModalVisible)},dependencies:[f.sg,f.O5,_._Y,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.JL,_.sg,_.u,D.X$],styles:[".modal__wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:100;height:100%;width:100%;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px}.modal__container[_ngcontent-%COMP%]{pointer-events:none;position:relative;display:flex;height:100%;width:auto;align-items:center;justify-content:center}.modal__window[_ngcontent-%COMP%]{pointer-events:auto;position:relative;display:flex;width:100%;max-width:500px;flex-direction:column;border-radius:.75rem;border-style:none;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));background-clip:padding-box;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}.modal__header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem 1rem .5rem}.modal__title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;font-weight:500;line-height:1.5;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity))}.modal__button-top-close[_ngcontent-%COMP%]{box-sizing:content-box;display:flex;height:1.5rem;width:1.5rem;align-items:center;justify-content:center;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.modal__button-top-close[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity));opacity:.75}.modal__button-top-close[_ngcontent-%COMP%]:focus{opacity:1}.modal__content[_ngcontent-%COMP%]{position:relative;border-radius:.75rem;padding:1rem;padding-top:0}.task-form__input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task-form__input[_ngcontent-%COMP%]{margin-bottom:.25rem;display:block;width:100%;-webkit-appearance:none;appearance:none;border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.task-form__input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(120 116 134 / var(--tw-placeholder-opacity))}.task-form__input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity))}.task-form__input.error[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(199 22 22 / var(--tw-border-opacity))}.task-form__error-message[_ngcontent-%COMP%]{margin-top:0;margin-left:.5rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(199 22 22 / var(--tw-text-opacity))}.task-form__label[_ngcontent-%COMP%]{margin-left:.5rem;padding-top:.5rem;font-size:.875rem;line-height:1.25rem}.task-form__textarea[_ngcontent-%COMP%]{margin-bottom:.25rem;display:block;width:100%;-webkit-appearance:none;appearance:none;border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.task-form__textarea[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(120 116 134 / var(--tw-placeholder-opacity))}.task-form__textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity))}.task-form__footer[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;gap:.5rem;padding-top:1rem}.task-form__button-close[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.task-form__button-close[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity))}.task-form__button-save[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(184 134 11 / var(--tw-bg-opacity));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:ease-in-out;transition-duration:.3s}.task-form__button-save[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(197 169 100 / var(--tw-bg-opacity))}.task-form__button-save[_ngcontent-%COMP%]:disabled{--tw-bg-opacity: 1;background-color:rgb(180 180 180 / var(--tw-bg-opacity))}.task-form__selected-users[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding-bottom:.5rem}.task-form__user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;border-radius:.375rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(184 134 11 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity));padding:.25rem .5rem}.task-form__button-remove[_ngcontent-%COMP%]{font-weight:700;--tw-text-opacity: 1;color:rgb(199 22 22 / var(--tw-text-opacity))}"]}),r})();function $o(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.editBoard())}),o.ALo(1,"translate"),o._UZ(2,"svg-icon",19),o.qZA()}2&r&&o.s9C("title",o.lcZ(1,1,"BOARD.EDIT"))}function Jo(r,e){if(1&r&&(o.TgZ(0,"section",20),o._UZ(1,"div",21)(2,"app-column",22),o.qZA()),2&r){const t=e.$implicit;o.xp6(2),o.Q6J("column",t)}}function qo(r,e){1&r&&o._UZ(0,"app-spinner")}const Qo=[{path:"",component:Bo},{path:"board/:id",component:(()=>{class r{constructor(t,i,n,s,a){this.route=t,this.boardService=i,this.columnService=n,this.userService=s,this.taskService=a,this.board=new g.x,this.boardId=this.route.snapshot.params.id??"",this.columns=new g.x,this.userList=new V.X([]),this.isModalVisible=!1,this.isBoardModalVisible=!1,this.taskToEdit=new j,this.boardToEdit=new N.Z,this.subscriptions=new S.w0,this.isLoading=!0,this.searchForm=new _.cw({search:new _.NI("")}),this.searchTerm="",this.isOwner=new V.X(!1)}doSearch(){this.boardService.setSearch(this.searchTerm)}subscribeForFormValueChanges(){this.subscriptions.add(this.searchForm.get("search")?.valueChanges.pipe((0,Ae.b)(300)).subscribe(t=>{this.searchTerm=t,this.doSearch()}))}subscribeForUsers(){this.subscriptions.add(this.board.subscribe(t=>{this.userList.next([t.owner,...t.users])}))}subscribeForEditTask(){this.subscriptions.add(this.taskService.task.subscribe(t=>{this.taskToEdit=t,this.isModalVisible=!0}))}subscribeForLoader(){this.subscriptions.add(this.boardService.isLoading.subscribe(t=>{this.isLoading=t}))}subscribeForBoard(){this.subscriptions.add(this.boardService.board.subscribe(t=>{this.board.next(t),this.subscriptions.add(this.columnService.allColumns.subscribe(i=>{this.columns.next(i),this.boardService.loadingOff()}))}))}subscribeForSequence(){this.subscriptions.add(this.boardService.getBoard(this.boardId).pipe((0,x.b)(t=>{this.boardToEdit=t,this.isOwner.next(this.boardService.currentUser._id===this.boardService.owner)}),(0,E.w)(()=>this.userService.getUsers()),(0,E.w)(()=>this.taskService.getTasks()),(0,E.w)(()=>this.columnService.getColumns()),(0,E.w)(t=>(this.columns.next(t),this.columnService.allColumns))).subscribe(t=>{this.columns.next(t),this.subscribeForEditTask(),this.subscribeForBoard()}))}ngOnInit(){this.subscribeForLoader(),this.subscribeForSequence(),this.subscribeForUsers(),this.subscribeForFormValueChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}addColumn(){this.columnService.makeColumnTemplate()}drop(t){this.columnService.dropColumn(t)}editBoard(){this.isBoardModalVisible=!0}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(nt.gz),o.Y36(O.$),o.Y36(st),o.Y36(P),o.Y36($))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-board-page"]],decls:31,vars:30,consts:[[1,"board"],[1,"board__header"],[1,"board__title-wrapper"],[1,"board__title"],["class","board__button-edit",3,"title","click",4,"ngIf"],[1,"board__search","search"],[1,"search__form",3,"formGroup"],["src","../../../../assets/images/search.png",3,"alt"],["type","search","name","search","formControlName","search","autocomplete","off",1,"search-input","rounded-md",3,"placeholder"],[1,"board__users-wrapper"],[3,"userList"],["cdkDropList","","cdkDropListGroup","","cdkDropListOrientation","horizontal",1,"board__all-columns",3,"cdkDropListDropped"],["class","board__column","cdkDrag","",4,"ngFor","ngForOf"],[1,"board__column-last","column"],[1,"column__button-add-column",3,"title","click"],[3,"isModalVisible","taskToEdit","isModalVisibleChange"],[3,"isBoardModalVisible","boardToEdit","isBoardModalVisibleChange"],[4,"ngIf"],[1,"board__button-edit",3,"title","click"],["src","../../../../assets/icons/pencil.svg"],["cdkDrag","",1,"board__column"],["cdkDragHandle","",1,"board__column-drag-handle"],[1,"board__column-component",3,"column"]],template:function(t,i){if(1&t&&(o.TgZ(0,"article",0)(1,"div",1)(2,"div",2)(3,"h2",3),o._uU(4),o.ALo(5,"async"),o.qZA(),o.YNc(6,$o,3,3,"button",4),o.ALo(7,"async"),o.qZA(),o.TgZ(8,"div",5)(9,"form",6),o._UZ(10,"img",7),o.ALo(11,"translate"),o._UZ(12,"input",8),o.ALo(13,"translate"),o.qZA()(),o.TgZ(14,"div",9),o._UZ(15,"app-user-label",10),o.ALo(16,"async"),o.qZA()(),o.TgZ(17,"div",11),o.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),o.YNc(18,Jo,3,1,"section",12),o.ALo(19,"async"),o.TgZ(20,"section",13)(21,"button",14),o.NdJ("click",function(){return i.addColumn()}),o.ALo(22,"translate"),o._uU(23),o.ALo(24,"translate"),o._UZ(25,"br"),o.TgZ(26,"span"),o._uU(27,"+"),o.qZA()()()()(),o.TgZ(28,"app-task-modal",15),o.NdJ("isModalVisibleChange",function(s){return i.isModalVisible=s}),o.qZA(),o.TgZ(29,"app-board-modal",16),o.NdJ("isBoardModalVisibleChange",function(s){return i.isBoardModalVisible=s}),o.qZA(),o.YNc(30,qo,1,0,"app-spinner",17)),2&t){let n;o.xp6(4),o.Oqu(null==(n=o.lcZ(5,14,i.board))?null:n.title),o.xp6(2),o.Q6J("ngIf",o.lcZ(7,16,i.isOwner)),o.xp6(3),o.Q6J("formGroup",i.searchForm),o.xp6(1),o.s9C("alt",o.lcZ(11,18,"BOARD.SEARCH")),o.xp6(2),o.Q6J("placeholder",o.lcZ(13,20,"BOARD.INTERNALSEARCHPLACEHOLDER")),o.xp6(3),o.Q6J("userList",o.lcZ(16,22,i.userList)),o.xp6(3),o.Q6J("ngForOf",o.lcZ(19,24,i.columns)),o.xp6(3),o.s9C("title",o.lcZ(22,26,"BOARD.NEWCOLUMN")),o.xp6(2),o.hij(" ",o.lcZ(24,28,"BOARD.NEWCOLUMN"),""),o.xp6(5),o.Q6J("isModalVisible",i.isModalVisible)("taskToEdit",i.taskToEdit),o.xp6(1),o.Q6J("isBoardModalVisible",i.isBoardModalVisible)("boardToEdit",i.boardToEdit),o.xp6(1),o.Q6J("ngIf",i.isLoading)}},dependencies:[f.sg,f.O5,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,be,Bi,ye,Vi,At.bk,Ie.O,zo,Xo,Lt,Fe,D.X$,f.Ov],styles:[".board[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 138px);width:100%;flex-direction:column;background-image:url(/assets/images/board-bg-1.webp);background-size:cover;padding-bottom:.5rem}.board__header[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:space-between;background-color:#fff9;padding:.5rem}@media (min-width: 768px){.board__header[_ngcontent-%COMP%]{flex-direction:row;padding:.75rem 1.25rem}}.board__title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.board__button-edit[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem;height:1.75rem;width:100%;width:1.75rem;border-radius:.375rem;padding:4px}.board__button-edit[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(118 165 234 / var(--tw-bg-opacity))}.board__title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity))}.board__search[_ngcontent-%COMP%]{width:18rem}.board__users-wrapper[_ngcontent-%COMP%]{display:flex;width:18rem;justify-content:flex-end}.board__all-columns[_ngcontent-%COMP%]{margin-left:0;margin-right:0;display:flex;height:100%;min-height:280px;width:100%;max-width:100%;flex-grow:0;flex-direction:row;align-items:flex-start;gap:.75rem;overflow-x:auto;overflow-y:hidden;padding-left:1.25rem;padding-right:1.25rem}@media (min-width: 768px){.board__all-columns[_ngcontent-%COMP%]{gap:.5rem}}.board__all-columns[_ngcontent-%COMP%]{scrollbar-gutter:stable}.board__all-columns[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.board__all-columns[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-left:1rem;margin-right:1rem;border-radius:.75rem;background-color:transparent}.board__all-columns[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.75rem;border-width:6px;border-style:solid;border-color:transparent;--tw-bg-opacity: 1;background-color:rgb(118 165 234 / var(--tw-bg-opacity));background-clip:content-box}.board__column[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;height:100%;flex-direction:row;align-items:flex-start;justify-content:space-between}.board__column-drag-handle[_ngcontent-%COMP%]{position:relative;z-index:10;margin-right:-18rem;height:3.5rem;width:18rem;cursor:move}.board__column-component[_ngcontent-%COMP%]{height:100%}.board__column-last[_ngcontent-%COMP%]{position:relative;display:flex;height:5rem;width:18rem;flex-shrink:0;flex-direction:column;align-items:center;border-radius:.75rem;border-width:2px;border-style:dashed;--tw-border-opacity: 1;border-color:rgb(120 116 134 / var(--tw-border-opacity));background-color:#fff9;opacity:.75;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:ease-in-out;transition-duration:75ms}.board__column-last[_ngcontent-%COMP%]:hover{border-style:solid;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));opacity:1;--tw-drop-shadow: drop-shadow(0 3px 3px rgba(0,0,0,.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.column__button-add-column[_ngcontent-%COMP%]{height:100%;width:100%;--tw-text-opacity: 1;color:rgb(13 6 45 / var(--tw-text-opacity))}.column__button-add-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;--tw-drop-shadow: drop-shadow(0 5px 5px #0003);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.board__all-columns.cdk-drop-list-dragging[_ngcontent-%COMP%]   .board__column[_ngcontent-%COMP%]:not(.cdk-drag-placeholder), .cdk-drag-animating[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:ease-in-out;transition-duration:.3s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.search[_ngcontent-%COMP%]{margin-bottom:.25rem;border-radius:.5rem;background-color:#fff9}@media (min-width: 768px){.search[_ngcontent-%COMP%]{margin-bottom:0}}.search__form[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;column-gap:.5rem;border-radius:.375rem;padding:2px}@media (min-width: 768px){.search__form[_ngcontent-%COMP%]{padding:.5rem}}.search__form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]}),r})()}];let tr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[nt.Bz.forChild(Qo),nt.Bz]}),r})();var er=p(8580);let ir=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({providers:[st,$,P],imports:[D.aw,f.ez,tr,_.u5,_.UX,Ve.o,zi,_o,At._J,er.F]}),r})()}}]);